var _ = require('underscore'),
	Board;

Board = function() {
	var that = {},
		boardArray = [];
	
	that.parse = function(string) {
		var rows = string.split(/\s/).reverse(),
			ar = [];
		
		rows.forEach(function(row){
			ar.push(row.split(''));
		});
		
		boardArray = ar;
		return boardArray;
	};
	
	that.at = function(x, y) {
		var ret = false;
		if (x >= 0 && x < 8 && y >= 0 && y < 8) {
			ret = boardArray[y][x];
			if (_.isNull(ret.match(/[prnbkq]/i))) {
				ret = ' ';
			}
		}
		return ret;
	};
	
	return that;
};

module.exports = Board;